(this["webpackJsonpONE-dbc"]=this["webpackJsonpONE-dbc"]||[]).push([[29],{1246:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return c}));var n=a(4),o=a(38),r=a(400),i=(Object(o.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),Object(o.a)((function(e){return{root:{maxWidth:345,color:e.palette.text.secondary,overflow:"initial !important",marginBottom:e.spacing(6)},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},cardContent:{position:"relative",paddingTop:"50px !important",textAlign:"center"},userAvatar:{width:75,height:75,position:"absolute",left:0,right:0,top:-38,bottom:"auto",margin:"auto",border:"4px solid ".concat(e.palette.background.default)},userName:{fontWeight:"bold"},userEmail:{fontSize:"0.8rem"},cardActions:{justifyContent:"center"},avatar:{backgroundColor:r.a[500]},deleteBtn:{position:"absolute",top:5,right:5},menuAnchor:{position:"absolute",top:5,right:5},cardMenu:{background:e.palette.background.default},cardMenuButton:{color:e.palette.background.reverse}}})),Object(o.a)((function(e){return{paperFullScreen:Object(n.a)({top:e.dialogSpacing,backgroundColor:e.palette.background.default},e.breakpoints.down("md"),{top:0}),dialogHeader:Object(n.a)({top:e.dialogSpacing,backgroundColor:e.palette.background.reverse,color:e.palette.background.default},e.breakpoints.down("md"),{top:0}),dialogClose:{position:"absolute",left:e.spacing(3),top:0,bottom:0,margin:"auto"},arabicClose:{right:e.spacing(3),left:"auto"},dialogHeaderSlotName:{border:"1px dashed ".concat(e.palette.background.default),padding:"2px 5px"},dialogTitle:{width:"100%",fontFamily:e.fonts.cardTitle.en.family,fontSize:"1.5rem"},cardContentContainer:Object(n.a)({},e.breakpoints.down("sm"),{marginTop:e.spacing(2)}),dialogContent:Object(n.a)({paddingBottom:e.dialogSpacing+20,backgroundColor:e.palette.background.default,maxWidth:"800px",margin:"0 auto",padding:e.spacing(2),paddingTop:"100px",position:"relative"},e.breakpoints.up("md"),{paddingBottom:0}),dialogImage:{maxWidth:"250px",width:"100%",borderRadius:"6px"},keywordsContainer:{backgroundColor:e.palette.background.reverse,color:e.palette.background.default,borderRadius:"6px"},keywordsBox:{padding:e.spacing(2)},keywordsTitle:{borderBottom:"1px solid ".concat(e.palette.background.default),paddingBottom:e.spacing(1),marginBottom:e.spacing(1)},multiLine:{whiteSpace:"pre-line"},arabicFont:{fontFamily:e.fonts.arabic}}}))),c=Object(o.a)((function(e){return{infoCardContainer:Object(n.a)({backgroundColor:e.palette.background.default,color:e.palette.background.reverse,border:"1px solid ".concat(e.palette.background.dark),minHeight:525,borderRadius:e.spacing(1)},e.breakpoints.down("xs"),{minHeight:"initial"}),infoCardMedia:{height:140,width:140,backgroundSize:"contain",backgroundPosition:"left",marginLeft:e.spacing(2),marginTop:e.spacing(2),borderRadius:e.spacing(1)},title:{fontWeight:700,color:e.palette.background.reverse,borderBottom:"1px solid #ddd",margin:0,paddingBottom:e.spacing(1)},secondaryTitle:{color:e.palette.background.reverse,fontWeight:600,textTransform:"capitalize",fontSize:"0.9rem",margin:0},primaryTitle:{fontSize:"0.7rem",lineHeight:"0.7rem",opacity:.6,color:e.palette.background.reverse,textTransform:"capitalize",margin:0},infoCardListItem:{paddingLeft:0,"& .MuiListItemIcon-root":{"& svg":{color:e.palette.background.reverse,opacity:.6}}},infoListPrimaryText:{fontSize:"0.7rem",lineHeight:"0.7rem",opacity:.6,color:e.palette.background.reverse,textTransform:"capitalize"},infoListSecondryText:{color:e.palette.background.reverse,fontWeight:600,textTransform:"capitalize","& a":{color:"#00abff"}},linksContainer:{display:"flex",alignItems:"center",flexWrap:"wrap","& button":{border:"none",margin:0,padding:0,width:20,height:20,"& svg":{color:"".concat(e.palette.background.reverse," !important")}}},linkContainer:{display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.spacing(1),marginBottom:e.spacing(1),"& a":{color:"#00abff"},"& span":{fontWeight:"normal",fontSize:"0.8rem"}},inactiveLinkContainer:{"& button":{opacity:.5}},selectedColorContainer:{display:"block",height:20,width:100,marginTop:e.spacing(1)},paperFullScreen:Object(n.a)({top:e.dialogSpacing,backgroundColor:e.palette.background.default},e.breakpoints.down("md"),{top:0}),dialogHeader:Object(n.a)({top:e.dialogSpacing,backgroundColor:e.palette.background.reverse,color:e.palette.background.default},e.breakpoints.down("md"),{top:0}),dialogClose:{position:"absolute",left:e.spacing(3),top:0,bottom:0,margin:"auto"},arabicClose:{right:e.spacing(3),left:"auto"},dialogHeaderSlotName:{border:"1px dashed ".concat(e.palette.background.default),padding:"2px 5px"},dialogTitle:{width:"100%",fontFamily:e.fonts.cardTitle.en.family,fontSize:"1.5rem"},cardContentContainer:Object(n.a)({},e.breakpoints.down("sm"),{marginTop:e.spacing(2)}),dialogContent:Object(n.a)({paddingBottom:e.dialogSpacing+20,backgroundColor:e.palette.background.default,maxWidth:"800px",margin:"0 auto",padding:e.spacing(2),paddingTop:"100px",width:"100%"},e.breakpoints.up("md"),{paddingBottom:0}),dialogImage:{maxWidth:"250px",width:"100%",borderRadius:"6px"},keywordsContainer:{backgroundColor:e.palette.background.reverse,color:e.palette.background.default,borderRadius:"6px"},keywordsBox:{padding:e.spacing(2)},keywordsTitle:{borderBottom:"1px solid ".concat(e.palette.background.default),paddingBottom:e.spacing(1),marginBottom:e.spacing(1)},multiLine:{whiteSpace:"pre-line"},arabicFont:{fontFamily:e.fonts.arabic},lowercase:{},viewCardData:{maxWidth:350,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:e.spacing(1),marginBottom:0,marginLeft:"auto",marginRight:"auto","& p":{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.palette.background.darker,width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",color:e.palette.background.lighter,paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),"&$notes":{border:"none",marginTop:e.spacing(1),fontSize:"0.9rem","& span":{width:"100%"}},"& span":{display:"block",width:"50%",marginLeft:e.spacing(1),color:e.palette.background.reverse,"&$lowercase":{textTransform:"lowercase","&:first-letter":{textTransform:"lowercase"}},"&:first-letter":{textTransform:"uppercase"}},"&:last-of-type":{border:"none"}}}}}));Object(o.a)((function(e){return{root:Object(n.a)({padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,background:"transparent",border:"1px solid #888",borderRadius:e.spacing(1)},e.breakpoints.down("md"),{width:"100%"}),searchContainer:Object(n.a)({},e.breakpoints.down("xs"),{marginBottom:e.spacing(1)}),input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4,background:e.palette.background.reverse,opacity:"0.26"},arabicFont:{fontFamily:e.fonts.arabic}}})),Object(o.a)((function(e){return{filterContainer:Object(n.a)({marginRight:e.spacing(1)},e.breakpoints.down("xs"),{marginTop:e.spacing(1)}),root:{"&:focus":{backgroundColor:e.palette.background.reverse,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.background.default}}},divider:{height:28,margin:"4px 4px 4px 8px",background:e.palette.background.reverse,opacity:"0.26"},filterButton:{border:"1px solid #888888",minHeight:"50px",borderRadius:e.spacing(1)},arabicFont:{fontFamily:e.fonts.arabic,textAlign:"right"}}})),Object(o.a)((function(e){return{gridContainer:{color:e.palette.background.reverse,"& .MuiSvgIcon-root":{color:e.palette.background.reverse}},gridPanel:{color:e.palette.background.reverse,"& .MuiFormLabel-root":{color:e.palette.background.reverse},"& .MuiInput-root":{color:e.palette.background.reverse}},changePasswordButton:{backgroundColor:e.palette.background.reverse,color:e.palette.background.default,"&:hover":{backgroundColor:e.palette.background.reverse,color:e.palette.background.default,opacity:.9}},changePasswordButtonDisabled:{backgroundColor:e.palette.background.reverse,color:"".concat(e.palette.background.lighter," !important"),opacity:.5},themeSwitchContainer:{paddingBottom:e.spacing(4),borderBottom:"1px solid ".concat(e.palette.background.darker)},resetPasswordContainer:{paddingTop:e.spacing(4),borderTop:"1px solid ".concat(e.palette.background.darker)},colorSwitchContainer:{paddingTop:e.spacing(4)},settingsTitle:{textAlign:"left"},settingsButtonsContainer:{marginTop:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},toggleThemeButtonGroup:{borderRadius:e.spacing(1),"& button":{textTransform:"capitalize","&:first-child":{borderRadius:"".concat(e.spacing(1),"px 0 0 ").concat(e.spacing(1),"px")},"&:last-child":{borderRadius:"0 ".concat(e.spacing(1),"px ").concat(e.spacing(1),"px 0")}}},colorButton:{marginRight:e.spacing(.5),marginLeft:e.spacing(.5),marginBottom:e.spacing(3),borderRadius:e.spacing(.5)},buttonInfo:{fontSize:"0.8rem",color:e.palette.background.reverse,opacity:.5,marginTop:e.spacing(1)},filterContainer:Object(n.a)({display:"flex",alignItems:"center",marginBottom:e.spacing(2)},e.breakpoints.down("xs"),{display:"block"})}}))},1323:function(e,t,a){"use strict";a.r(t);var n=a(6),o=a(0),r=a.n(o),i=a(35),c=a(407),l=a(126),s=a(1172),d=a(53),u=a(1219),p=a(492),g=a(317),b=a.n(g),f=a(8),m=a(3),h=a(2),x=a.n(h),j=a(28),k=a(83),w=a(181),O=a(1240),v=a(47),C=a(23),y=a(34),S=a(30),T=a(59),B=a(55),I=a(33),F=a(20),L=a(29),R=a(39),N=a(19),W=a(32),z=a(27),D=a(38),M=Object(D.a)((function(e){return{connectionsActionsContainer:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",borderRadius:e.spacing(2)}}})),A=a(14),E=a(16),H=a(1),P=Object(o.lazy)((function(){return a.e(4).then(a.bind(null,1320))})),V=Object(o.lazy)((function(){return a.e(6).then(a.bind(null,1321))})),q=Object(o.lazy)((function(){return a.e(5).then(a.bind(null,1325))})),U=function(e){var t=e.cardData,a=e.onSetNotification,n=e.onLoadCard,r=e.onSortFollowers,c=e.onRemoveFollower,l=e.switchTheme,s=e.adminConnectionsRequestId,u=Object(z.b)(),p=Object(W.a)(),g=M(),b=Object(k.h)(),h=Object(I.b)(),j=Object(F.b)(),D=j.languageVars.pages.followers,E=Object(L.b)(),U=t.urlSuffix===h.userUrlSuffix,G=Object(o.useState)(!1),J=Object(m.a)(G,2),$=J[0],_=J[1],Q=Object(o.useState)(!1),K=Object(m.a)(Q,2),X=K[0],Y=K[1],Z=Object(o.useState)(D.messages.loading.loadingFollowers),ee=Object(m.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(o.useState)(1),oe=Object(m.a)(ne,2),re=oe[0],ie=oe[1],ce=Object(o.useState)(null),le=Object(m.a)(ce,2),se=le[0],de=le[1],ue=Object(o.useState)(t||null),pe=Object(m.a)(ue,2),ge=pe[0],be=pe[1];Object(o.useEffect)((function(){var e=!0;return(e&&!t.userId||s||!U)&&Object(f.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),e.next=3,Object(R.k)(s||h.user.uid);case 3:if(t=e.sent,be(t),s){e.next=8;break}return e.next=8,n(h.user.uid);case 8:r("desc","date"),_(!0),setTimeout((function(){return Y(!1)}),1e3);case 11:case"end":return e.stop()}}),e)})))(),function(){e=!1}}),[n,h.user.uid,r,l,s,t.userId,U]),Object(o.useEffect)((function(){!s&&window.localStorage.getItem("originalTheme")&&l(window.localStorage.getItem("originalTheme"))}),[l,s]);var fe=function(){var e=Object(f.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==window.confirm(D.messages.notifications.deleteFollowerPrompt)){e.next=24;break}return ae(D.messages.loading.removingFollower),_(!1),Y(!0),e.prev=5,c(h.user.uid),e.next=9,Object(R.s)(t.userId,h.user.uid);case 9:return e.next=11,Object(R.r)(h.user.uid,t.userId);case 11:return e.next=13,n(h.user.uid);case 13:_(!0),setTimeout((function(){return Y(!1)}),1e3),ae(D.messages.loading.loadingFollowers),a({message:"".concat(D.messages.notifications.removeFollowerSuccess," ").concat(t.firstName),type:"success"}),r("desc","date"),e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(5),a({message:D.messages.notifications.removeFollowerError,type:"error"}),new Error(e.t0);case 24:case"end":return e.stop()}}),e,null,[[5,20]])})));return function(t){return e.apply(this,arguments)}}(),me=function(e){var t;return se||(ge.followers&&(t=ge.followers.slice((e-1)*A.f,e*A.f)),t)},he=function(){var e=Object(f.a)(x.a.mark((function e(t){var n,o,r,i,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=document.createElement("a"),o="".concat(t.firstName||"","_").concat(t.lastName||"","_").concat((new Date).getTime(),".vcf"),r=t.links&&t.links.length>0?t.links:null,i=Object(N.i)(t,r,o,null),c=window.URL.createObjectURL(new Blob([i],{type:"text/vcard"})),n.href=c,n.download=o,n.click()}catch(l){a({message:D.messages.notifications.downloadVcardError,type:"error"})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return X?Object(H.jsx)(C.a,{done:$,loadingText:te}):Object(H.jsxs)(i.a,{className:u.pageContainer,children:[Object(H.jsx)(v.a,{title:D.data.titles.page,children:Object(H.jsx)(i.a,{mb:3,children:Object(H.jsx)(B.a,{infoList:[D.messages.info.general.title]})})}),Object(H.jsx)(i.a,{className:u.contentContainer,children:Object(H.jsx)(i.a,{className:u.formContainer,children:ge.followers&&ge.followers.length>0?Object(H.jsxs)(i.a,{className:"".concat(u.panel),children:[Object(H.jsx)(S.a,{title:D.data.titles.panel}),Object(H.jsx)(i.a,{mb:2,children:Object(H.jsx)(d.a,{variant:"body1",align:"left",component:"p",className:u.panelText,children:D.messages.info.general.first})}),Object(H.jsx)(o.Suspense,{fallback:Object(H.jsx)(y.a,{list:[{variant:"rect",fullWidth:!0}]}),children:Object(H.jsx)(P,{onSearch:function(e){var t=e.toLowerCase();return t.length>=3?de(ge.followers.filter((function(e){var a="".concat(e.firstName," ").concat(e.lastName),n=e.email,o=e.workPhone;return!!(a.toLowerCase().includes(t)||n.toLowerCase().includes(t)||o.includes(t))}))):(de(null),ie(1)),!1},onClear:function(){de(null)}})}),Object(H.jsx)(o.Suspense,{fallback:Object(H.jsx)(y.a,{list:[{variant:"rect",width:"20%"},{variant:"rect",width:"20%"},{variant:"rect",width:"20%"},{variant:"rect",width:"20%"}]}),children:Object(H.jsx)(V,{onSort:function(e,t){r(e,t)}})}),Object(H.jsx)(o.Suspense,{fallback:Object(H.jsx)(y.a,{list:[{variant:"circle",width:50,height:50},{variant:"rect",fullWidth:!0,height:150},{variant:"circle",width:50,height:50},{variant:"rect",fullWidth:!0,height:150},{variant:"circle",width:50,height:50},{variant:"rect",fullWidth:!0,height:150}]}),children:Object(H.jsx)(q,{connections:me(re),onOpenNoteDialog:function(e){b.push("/profile/".concat(e))},onRemove:fe,onAdd:he,onOpenEditDialog:function(){return!0},isFollowList:!0})}),ge.followers&&ge.followers.length>0&&!se&&Object(H.jsx)(i.a,{mt:1,mb:2,children:Object(H.jsx)(O.a,{count:Math.ceil(ge.followers.length/A.f),variant:"outlined",onChange:function(e,t){ie(t),me(t)}})}),Object(H.jsx)(i.a,{className:g.connectionsActionsContainer,children:Object(H.jsx)(w.CSVLink,{data:Object(N.j)(ge.followers,A.b)||[],filename:"".concat(j.languageVars.files.myFollowers,".csv"),className:"".concat(p.defaultButton," ").concat(u.panelButton),style:{backgroundColor:E.color.code,maxWidth:220},children:D.buttons.downloadCSV})})]}):Object(H.jsx)(T.a,{title:D.messages.info.noFollowers.title,description:D.messages.info.noFollowers.first,type:"info"})})})]})};U.defaultProps={cardData:null,adminConnectionsRequestId:null};var G=Object(j.b)((function(e){return{cardData:e.cards}}),(function(e){return{onSetNotification:function(t){return e(E.Q(t))},onLoadCard:function(t){return e(E.w(t))},onSortFollowers:function(t,a){return e(E.S(t,a))},onRemoveFollower:function(t){return e(E.M(t))}}}))(U),J=a(1246),$=r.a.forwardRef((function(e,t){return Object(H.jsx)(c.a,Object(n.a)({direction:"up",ref:t},e))})),_=function(e){var t=e.closeDialog,a=e.dialogOpen,n=e.userInfo,o=Object(J.a)();return Object(H.jsxs)(p.a,{fullScreen:!0,open:a,onClose:t,TransitionComponent:$,classes:{paperFullScreen:o.paperFullScreen},children:[Object(H.jsx)(u.a,{className:o.dialogHeader,children:Object(H.jsxs)(s.a,{children:[Object(H.jsx)(l.a,{className:"".concat(o.dialogClose),edge:"start",color:"inherit",onClick:t,"aria-label":"close",children:Object(H.jsx)(b.a,{})}),Object(H.jsx)(d.a,{className:"".concat(o.dialogTitle),align:"center",variant:"h4",children:n&&n.userName})]})}),Object(H.jsx)(i.a,{className:o.dialogContent,children:Object(H.jsx)(G,{switchTheme:function(){return!0},adminConnectionsRequestId:n?n.userId:null})})]})};_.defaultProps={dialogOpen:!1,userInfo:null};t.default=_}}]);