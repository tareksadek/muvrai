(this["webpackJsonpONE-dbc"]=this["webpackJsonpONE-dbc"]||[]).push([[26],{1247:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return d}));var a=n(4),o=n(38),r=n(400),i=Object(o.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),l=Object(o.a)((function(e){return{root:{maxWidth:345,color:e.palette.text.secondary,overflow:"initial !important",marginBottom:e.spacing(6)},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},cardContent:{position:"relative",paddingTop:"50px !important",textAlign:"center"},userAvatar:{width:75,height:75,position:"absolute",left:0,right:0,top:-38,bottom:"auto",margin:"auto",border:"4px solid ".concat(e.palette.background.default)},userName:{fontWeight:"bold"},userEmail:{fontSize:"0.8rem"},cardActions:{justifyContent:"center"},avatar:{backgroundColor:r.a[500]},deleteBtn:{position:"absolute",top:5,right:5},menuAnchor:{position:"absolute",top:5,right:5},cardMenu:{background:e.palette.background.default},cardMenuButton:{color:e.palette.background.reverse},patchStatus:{fontSize:"0.8rem",textAlign:"center",borderRadius:e.spacing(5),paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),paddingLeft:e.spacing(1),paddingRight:e.spacing(1),color:"#fff",backgroundColor:"#00adff"},patchStatusChina:{backgroundColor:"#ef6605"},patchStatusUsa:{backgroundColor:"#2f8b00"}}})),c=Object(o.a)((function(e){return{paperFullScreen:Object(a.a)({top:e.dialogSpacing,backgroundColor:e.palette.background.default},e.breakpoints.down("md"),{top:0}),dialogHeader:Object(a.a)({top:e.dialogSpacing,backgroundColor:e.palette.background.reverse,color:e.palette.background.default},e.breakpoints.down("md"),{top:0}),dialogClose:{position:"absolute",left:e.spacing(3),top:0,bottom:0,margin:"auto"},arabicClose:{right:e.spacing(3),left:"auto"},dialogHeaderSlotName:{border:"1px dashed ".concat(e.palette.background.default),padding:"2px 5px"},dialogTitle:{width:"100%",fontFamily:e.fonts.cardTitle.en.family,fontSize:"1.5rem"},cardContentContainer:Object(a.a)({},e.breakpoints.down("sm"),{marginTop:e.spacing(2)}),dialogContent:Object(a.a)({paddingBottom:e.dialogSpacing+20,backgroundColor:e.palette.background.default,maxWidth:"800px",margin:"0 auto",padding:e.spacing(2),paddingTop:"100px",position:"relative"},e.breakpoints.up("md"),{paddingBottom:0}),dialogImage:{maxWidth:"250px",width:"100%",borderRadius:"6px"},keywordsContainer:{backgroundColor:e.palette.background.reverse,color:e.palette.background.default,borderRadius:"6px"},keywordsBox:{padding:e.spacing(2)},keywordsTitle:{borderBottom:"1px solid ".concat(e.palette.background.default),paddingBottom:e.spacing(1),marginBottom:e.spacing(1)},multiLine:{whiteSpace:"pre-line"},arabicFont:{fontFamily:e.fonts.arabic},layoutButtonsContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%","& button":{display:"flex",alignItems:"center",justifyContent:"center",maxWidth:130,marginLeft:e.spacing(.5),marginRight:e.spacing(.5),"& span":{display:"block",width:"auto"},"& svg":{fontSize:150}}},selectedLayout:{border:"1px solid ".concat(e.palette.background.reverse),borderRadius:e.spacing(1)},buttonText:{fontSize:"0.8rem",textAlign:"center",opacity:.5,textTransform:"initial"},themeButtonsContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},themeButton:{width:50,height:50,borderRadius:"50%",minWidth:"auto",marginLeft:e.spacing(.5),marginRight:e.spacing(.5),"& svg":{display:"none"}},lightThemeButton:{backgroundColor:"#fff",border:"1px solid #272727","& svg":{color:"#272727"}},darkThemeButton:{backgroundColor:"#272727",border:"1px solid #fff","& svg":{color:"#fff"}},selectedTheme:{"& svg":{display:"inline"}},colorButtonsContainer:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap"},colorButton:{marginRight:e.spacing(.5),marginLeft:e.spacing(.5),marginBottom:e.spacing(3),borderRadius:e.spacing(5),width:50,height:50,minWidth:"auto"},colorPicker:{width:"100%","& .sketch-picker":{boxShadow:"0 0 0 transparent !important",backgroundColor:"".concat(e.palette.background.reverse," !important"),borderRadius:"".concat(e.spacing(2),"px !important"),width:"auto !important","& > div":{"&:first-child":{borderRadius:"".concat(e.spacing(2),"px !important")},"&:nth-child(2)":{"& > div":{"& > div":{height:"20px !important","& > div":{"& > div":{"& > div":{"& > div":{height:"18px !important"}}}}}}},"&:last-child":{display:"none !important"}},"& .hue-horizontal":{borderRadius:"".concat(e.spacing(2),"px !important")},"& input":{borderRadius:e.spacing(.5)},"& label":{color:"".concat(e.palette.background.default," !important")}}},defaultLinksColorContainer:{color:e.palette.background.reverse,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",marginTop:e.spacing(1),marginBottom:e.spacing(1),"& .MuiCheckbox-root":{color:e.palette.background.reverse}}}})),s=(Object(o.a)((function(e){return{paperFullScreen:Object(a.a)({top:e.dialogSpacing,backgroundColor:e.palette.background.default},e.breakpoints.down("md"),{top:0}),dialogHeader:Object(a.a)({top:e.dialogSpacing,backgroundColor:e.palette.background.reverse,color:e.palette.background.default},e.breakpoints.down("md"),{top:0}),dialogClose:{position:"absolute",left:e.spacing(3),top:0,bottom:0,margin:"auto"},arabicClose:{right:e.spacing(3),left:"auto"},dialogHeaderSlotName:{border:"1px dashed ".concat(e.palette.background.default),padding:"2px 5px"},dialogTitle:{width:"100%",fontFamily:e.fonts.cardTitle.en.family,fontSize:"1.5rem"},cardContentContainer:Object(a.a)({},e.breakpoints.down("sm"),{marginTop:e.spacing(2)}),dialogContent:Object(a.a)({paddingBottom:e.dialogSpacing+20,backgroundColor:e.palette.background.default,maxWidth:"800px",margin:"0 auto",padding:e.spacing(2),paddingTop:"100px",width:"100%"},e.breakpoints.up("md"),{paddingBottom:0}),dialogImage:{maxWidth:"250px",width:"100%",borderRadius:"6px"},keywordsContainer:{backgroundColor:e.palette.background.reverse,color:e.palette.background.default,borderRadius:"6px"},keywordsBox:{padding:e.spacing(2)},keywordsTitle:{borderBottom:"1px solid ".concat(e.palette.background.default),paddingBottom:e.spacing(1),marginBottom:e.spacing(1)},multiLine:{whiteSpace:"pre-line"},arabicFont:{fontFamily:e.fonts.arabic},viewCardData:{maxWidth:350,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:e.spacing(1),marginBottom:0,marginLeft:"auto",marginRight:"auto","& p":{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.palette.background.darker,width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",color:e.palette.background.lighter,paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),"&$notes":{border:"none",marginTop:e.spacing(1),fontSize:"0.9rem","& span":{width:"100%"}},"& span":{display:"block",width:"50%",marginLeft:e.spacing(1),color:e.palette.background.reverse,"&:first-letter":{textTransform:"uppercase"}},"&:last-of-type":{border:"none"}}}}})),Object(o.a)((function(e){return{root:Object(a.a)({padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,background:"transparent",border:"1px solid #888",borderRadius:e.spacing(1)},e.breakpoints.down("md"),{width:"100%"}),searchContainer:Object(a.a)({},e.breakpoints.down("xs"),{marginBottom:e.spacing(1)}),input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4,background:e.palette.background.reverse,opacity:"0.26"},arabicFont:{fontFamily:e.fonts.arabic}}}))),d=Object(o.a)((function(e){return{filterContainer:Object(a.a)({marginRight:e.spacing(1)},e.breakpoints.down("xs"),{marginTop:e.spacing(1)}),root:{"&:focus":{backgroundColor:e.palette.background.reverse,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.background.default}}},divider:{height:28,margin:"4px 4px 4px 8px",background:e.palette.background.reverse,opacity:"0.26"},filterButton:{border:"1px solid #888888",minHeight:"50px",borderRadius:e.spacing(1)},arabicFont:{fontFamily:e.fonts.arabic,textAlign:"right"}}}))},1296:function(e,t,n){"use strict";n.r(t);var a=n(8),o=n(3),r=n(6),i=n(2),l=n.n(i),c=n(0),s=n.n(c),d=n(28),u=n(35),p=n(127),g=n(91),b=n(126),m=n(53),f=n(1172),h=n(1219),x=n(492),j=n(407),k=n(1177),O=n(514),y=n(317),C=n.n(y),v=n(165),B=n.n(v),T=n(23),w=n(30),S=n(62),L=n(1247),N=n(32),F=n(17),R=n(52),W=n(178),I=n(99),A=n(14),P=n(16),q=n(1),z=s.a.forwardRef((function(e,t){return Object(q.jsx)(j.a,Object(r.a)({direction:"up",ref:t},e))})),H=function(e){var t=e.closeDialog,n=e.dialogOpen,i=e.onSetNotification,s=e.reloadPatches,d=e.connectionForms;console.log(d&&d.length>0&&d.map((function(e){return{value:e.id,display:e.title}})));var j=Object(L.b)(),y=Object(N.a)(),v=Object(c.useState)(!1),P=Object(o.a)(v,2),H=P[0],M=P[1],D=Object(c.useState)(!1),E=Object(o.a)(D,2),V=E[0],J=E[1],U=Object(c.useState)({title:Object(F.b)("input","Patch Title",{type:"text",name:"title",placeholder:"Patch Title"},"",null,{required:!1},!0,{xs:12,sm:null,md:null,lg:null,xl:null,fullWidth:!0}),invitationsNumber:Object(F.b)("input","Number of invitations",{type:"number",name:"invitationsNumber",placeholder:"Number of invitations"},1,null,{required:!1},!0,{xs:12,sm:null,md:null,lg:null,xl:null,fullWidth:!0}),package:Object(F.b)("select","Package",{name:"package"},"",[{value:"test",display:"Test"},{value:"virtual",display:"Virtual"},{value:"device",display:"Regular"},{value:"master",display:"Master"},{value:"realtor",display:"Realtor"}],{required:!0},!1,{xs:12,sm:null,md:null,lg:null,xl:null,fullWidth:!0}),connectForm:Object(F.b)("select","Connect Form",{name:"connectForm"},"",d&&d.length>0?d.map((function(e){return{value:e.id,display:e.title}})):[],{required:!0},!1,{xs:12,sm:null,md:null,lg:null,xl:null,fullWidth:!0}),logo:Object(F.b)("textarea","Logo",{type:"text",name:"logo",placeholder:"Logo",parse:"disabled"},"",null,{required:!1},!0,{xs:12,sm:null,md:null,lg:null,xl:null,fullWidth:!0}),logoLink:Object(F.b)("input","Logo Link",{type:"text",name:"logoLink",placeholder:"Logo Link"},"",null,{required:!1},!0,{xs:12,sm:null,md:null,lg:null,xl:null,fullWidth:!0}),storeButtonText:Object(F.b)("input","Store Button Text",{type:"text",name:"storeButtonText",placeholder:"Store Button Text"},"",null,{required:!1},!0,{xs:12,sm:null,md:null,lg:null,xl:null,fullWidth:!0}),storeButtonLink:Object(F.b)("input","Store Button Link",{type:"text",name:"storeButtonLink",placeholder:"Store Button Link"},"",null,{required:!1},!0,{xs:12,sm:null,md:null,lg:null,xl:null,fullWidth:!0})}),G=Object(o.a)(U,2),Q=G[0],$=G[1],_=Object(c.useState)("social"),K=Object(o.a)(_,2),X=K[0],Y=K[1],Z=Object(c.useState)("light"),ee=Object(o.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(c.useState)({name:"grey",code:"#888888"}),oe=Object(o.a)(ae,2),re=oe[0],ie=oe[1],le=Object(c.useState)("#000"),ce=Object(o.a)(le,2),se=ce[0],de=ce[1],ue=Object(c.useState)(!1),pe=Object(o.a)(ue,2),ge=pe[0],be=pe[1];Object(c.useEffect)((function(){if(d&&d.length>0){var e=d.map((function(e){return{value:e.id,display:e.title}})),t=Object(F.a)(Q,{connectForm:e},null);$((function(e){return Object(r.a)(Object(r.a)({},e),t.adjustedForm)}))}}),[d]);var me=function(){var e=Object(a.a)(l.a.mark((function e(n){var a,o,r,c,d,u,p,g,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),M(!0),a={layout:X,selectedColor:re,theme:te,defaultLinksToTheme:ge},o=Object(F.c)(Q),r={logo:o.logo&&""!==o.logo?o.logo:null,logoLink:o.logoLink&&""!==o.logoLink?o.logoLink:null,storeButtonText:o.storeButtonText&&""!==o.storeButtonText?o.storeButtonText:null,storeButtonLink:o.storeButtonLink&&""!==o.storeButtonLink?o.storeButtonLink:null},c=o.connectForm&&""!==o.connectForm?o.connectForm:null,e.next=8,Object(W.d)(o.title,o.package,c,o.invitationsNumber,a,r);case 8:d=e.sent,g=null,b=1;case 11:if(!(b<=o.invitationsNumber)){e.next=27;break}return p="master"===o.package&&1===b?"master":"single",e.prev=13,e.next=16,Object(I.f)(o.package,d.patchId,p,c,g,a,r);case 16:u=e.sent,g="master"===o.package&&1===b?u.code.substring(0,u.code.indexOf("_")):g,e.next=24;break;case 20:e.prev=20,e.t0=e.catch(13),t(),i({message:"There was a problem creating new patch. ".concat(e.t0.message),type:"error"});case 24:b+=1,e.next=11;break;case 27:if(!g){e.next=30;break}return e.next=30,Object(W.a)(d.patchId,g);case 30:return e.next=32,s();case 32:t(),i({message:"Patch created successfully.",type:"success"}),M(!1);case 35:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(e){Y(e)},he=function(e){ne(e)};return Object(q.jsxs)(x.a,{fullScreen:!0,open:n,onClose:t,TransitionComponent:z,classes:{paperFullScreen:j.paperFullScreen},children:[H&&Object(q.jsx)(T.a,{placement:"inset",loadingText:"Creating user..."}),Object(q.jsx)(h.a,{className:j.dialogHeader,children:Object(q.jsxs)(f.a,{children:[Object(q.jsx)(b.a,{className:"".concat(j.dialogClose),edge:"start",color:"inherit",onClick:t,"aria-label":"close",children:Object(q.jsx)(C.a,{})}),Object(q.jsx)(m.a,{className:"".concat(j.dialogTitle),align:"center",variant:"h4",children:"Create new patch"})]})}),Object(q.jsxs)(u.a,{className:j.dialogContent,children:[Object.keys(Q).map((function(e,t){return Object(q.jsx)(p.a,{item:!0,xs:12,children:Object(q.jsx)(u.a,{mb:3,className:j.readPrefContainer,children:Object(q.jsx)(S.a,{elementType:Q[e].elementType,label:Q[e].elementLabel,value:Q[e].value,elementOptions:Q[e].elementOptions,touched:Q[e].touched,valid:Q[e].isValid,shouldValidate:Q[e].validtationRules,elementSetup:Q[e].elementSetup,changed:function(t){return function(e,t){var n;n=Array.isArray(e)?e.join():Number.isInteger(e)?String(e):e;var a=Object(F.a)(Q,n,t);$(a.adjustedForm),J(a.formValid)}(t,e)},grid:Q[e].grid,disabled:H})})},e+t)})),Object(q.jsx)(w.a,{title:"Layout"}),Object(q.jsxs)(u.a,{className:j.layoutButtonsContainer,children:[Object(q.jsxs)(g.a,{onClick:function(){return fe("basic")},className:"basic"===X?j.selectedLayout:"",children:[Object(q.jsx)(R.d,{fill:"#bbb",background:"dark"===te?"#272727":"#fff",backgroundrev:"dark"===te?"#eee":"#272727",selectedcolor:re.code||"#bbb"}),Object(q.jsx)("span",{className:j.buttonText,children:"Basic"})]}),Object(q.jsxs)(g.a,{onClick:function(){return fe("social")},className:"social"===X?j.selectedLayout:"",children:[Object(q.jsx)(R.w,{fill:"#bbb",background:"dark"===te?"#272727":"#fff",backgroundrev:"dark"===te?"#eee":"#272727",selectedcolor:re.code||"#bbb"}),Object(q.jsx)("span",{className:j.buttonText,children:"Social"})]}),Object(q.jsxs)(g.a,{onClick:function(){return fe("business")},className:"business"===X?j.selectedLayout:"",children:[Object(q.jsx)(R.g,{fill:"#bbb",background:"dark"===te?"#272727":"#fff",backgroundrev:"dark"===te?"#eee":"#272727",selectedcolor:re.code||"#bbb"}),Object(q.jsx)("span",{className:j.buttonText,children:"Business"})]})]}),Object(q.jsx)(w.a,{title:"Theme",mt:3}),Object(q.jsxs)(u.a,{className:j.themeButtonsContainer,children:[Object(q.jsx)(g.a,{className:"".concat(j.themeButton," ").concat(j.lightThemeButton," ").concat("light"===te?j.selectedTheme:""),onClick:function(){return he("light")},children:Object(q.jsx)(B.a,{})}),Object(q.jsx)(g.a,{className:"".concat(j.themeButton," ").concat(j.darkThemeButton," ").concat("dark"===te?j.selectedTheme:""),onClick:function(){return he("dark")},children:Object(q.jsx)(B.a,{})})]}),Object(q.jsx)(w.a,{title:"Color",mt:3}),Object(q.jsx)(u.a,{className:j.colorButtonsContainer,children:A.F.map((function(e){return Object(q.jsx)(g.a,{className:j.colorButton,onClick:function(){return function(e){ie(e)}(e)},style:{backgroundColor:e.code},children:e.name===re.name&&Object(q.jsx)(B.a,{})},e.name)}))}),Object(q.jsx)(u.a,{className:j.colorPicker,children:Object(q.jsx)(O.a,{color:re.code||se,presetColors:A.F.map((function(e){return e.code})),disableAlpha:!0,width:"100%",onChange:function(e){return function(e){de(e),ie({name:"picker",code:e})}(e.hex)}})}),Object(q.jsxs)(u.a,{className:j.defaultLinksColorContainer,children:[Object(q.jsx)(m.a,{className:j.defaultLinksCheckboxText,component:"p",variant:"body1",children:"Use profile color as background"}),Object(q.jsx)(k.a,{checked:ge,onChange:function(){be((function(e){return!e}))},name:"defaultColor"})]}),Object(q.jsx)(g.a,{color:"primary",className:y.defaultButton,onClick:function(e){return me(e)},disabled:!V||H,children:"Create patch"})]})]})};H.defaultProps={dialogOpen:!1,connectionForms:null},t.default=Object(d.b)(null,(function(e){return{onSetNotification:function(t){return e(P.Q(t))}}}))(H)}}]);